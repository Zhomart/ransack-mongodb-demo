<h1>Search Posts</h1>

<%= search_form_for @q, url: explore_posts_path do |f| %>

  <fieldset>
    <legend>Post</legend>

    <ul>
      <li>
        <%= f.label :title_cont %>
        <%= f.search_field :title_cont %>
      </li>
      <li>
        <%= f.label :title_or_body_cont %>
        <%= f.search_field :title_or_body_cont %>
      </li>
      <li>
        <%= f.label :user_id_in %>
        <%= f.collection_select :user_id_in, User.all, :id, :info, {}, multiple: true %>
      </li>
    </ul>

  </fieldset>

  <%= f.submit %>
<% end %>

<pre style="overflow-x: auto">
  <%= @posts.inspect %>
</pre>

<h2>Your first 10 results</h2>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Title</th>
      <th>Body</th>
      <th>User</th>
    </tr>
  </thead>
  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.id %></td>
        <td><%= post.title %></td>
        <td><%= truncate post.body %></td>
        <td><%= post.user_info %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<hr>

<a href="https://github.com/Zhomart/ransack-mongoid-demo" target="_blank">Source code for this demo available on GitHub</a>